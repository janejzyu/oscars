cols = sapply(myDat$coal / max(myDat$coal), alpha, colour = "red")
plot(myDat$x, myDat$y, pch = 19,
col = cols, cex = 0.08 * myDat$coal)
my.cols = colorRampPalette(c("blue", "red"))(nrow(myDat))
cols = sapply(myDat$coal / max(myDat$coal), alpha, colour = my.cols)
plot(myDat$x, myDat$y, pch = 19,
col = my.cols[order(myDat$coal)], cex = 0.08 * myDat$coal)
## compute 2D kernel density, see MASS book, pp. 130-131
z <- kde2d(myDat$x, myDat$y, n=50)
contour(z, drawlabels=FALSE, nlevels=5, col=my.cols, add=TRUE, lwd=2)
contour(z, drawlabels=FALSE, nlevels=5, col="black", add=TRUE, lwd=2)
contour(z, drawlabels=FALSE, nlevels=7, col="black", add=TRUE, lwd=2)
contour(z, drawlabels=FALSE, nlevels=6, col="black", add=TRUE, lwd=2)
plot(myDat$x, myDat$y, pch = 19,
col = my.cols[order(myDat$coal)], cex = 0.08 * myDat$coal)
## compute 2D kernel density, see MASS book, pp. 130-131
z <- kde2d(myDat$x, myDat$y, n=50)
contour(z, drawlabels=FALSE, nlevels=6, col="black", add=TRUE, lwd=2)
contour(z, drawlabels=FALSE, nlevels=7, col="black", add=TRUE, lwd=2)
plot(myDat$x, myDat$y, pch = 19,
col = my.cols[order(myDat$coal)], cex = 0.08 * myDat$coal)
## compute 2D kernel density, see MASS book, pp. 130-131
z <- kde2d(myDat$x, myDat$y, n=50)
contour(z, drawlabels=FALSE, nlevels=6, col="black", add=TRUE, lwd=2)
plot(myDat$x, myDat$y, pch = 19, xlab = "x", ylab = "y",
col = my.cols[order(myDat$coal)], cex = 0.08 * myDat$coal)
## compute 2D kernel density, see MASS book, pp. 130-131
z <- kde2d(myDat$x, myDat$y, n=50)
contour(z, drawlabels=FALSE, nlevels=6, col="black", add=TRUE, lwd=2)
hist(myDat$coal)
hist(myDat$coal, break = 25)
hist(myDat$coal, breaks = 25)
box(myDat$coal)
box.plot(myDat$coal)
boxplot(myDat$coal)
hist(myDat$coal, breaks = 25)
hist(myDat$coal, breaks = 30)
hist(myDat$coal, breaks = 30, xlab = "coal")
hist(myDat$coal, breaks = 30, xlab = "coal", main = "Histogram of Coal")
summary(myDat$coal)
summary(myDat$coal)
summary(myDat$coal)
install.packages("geoR")
library(geoR)
library(geoR)
variog
?variog
library("geoR", lib.loc="/Library/Frameworks/R.framework/Versions/3.2/Resources/library")
install.packages("XQuartz")
library(geoR)
install.packages("XQuartz")
13.99-3.5 + 2.99 + 6.99 + 5.99 + 17.42 + 7.99 + 13.29
rm(list = ls())
dat = matrix(c(39,35,16,
79,72,28,
114,143,38,
67,66,14,
141,131,36), 5,  byrow = TRUE)
dat = matrix(c(39,35,16,
79,72,28,
114,143,38,
67,66,14,
141,131,36), 5,  byrow = TRUE,
dimnames = list(1:5,
c("A", "B", "C")))
dat
table(dat)
dat = data.frame(dat)
dat$total = apply(dat, 1, sum)
View(dat)
library(VGAM)
install.packages("VGAM")
library(VGAM)
family=cumulative(parallel=TRUE), data=trauma)
rm(list = ls())
library(VGAM)
dat = matrix(c(39,35,16,
79,72,28,
114,143,38,
67,66,14,
141,131,36), 5,  byrow = TRUE,
dimnames = list(NULL,
c("A", "B", "C")))
dat = data.frame(dat)
View(dat)
rm(list = ls())
library(VGAM)
dat = matrix(c(39,35,16,
79,72,28,
114,143,38,
67,66,14,
141,131,36), 5,  byrow = TRUE
)
View(dat)
dat$hw = c(1:5)
rm(list = ls())
library(VGAM)
dat = matrix(c(39,35,16,
79,72,28,
114,143,38,
67,66,14,
141,131,36), 5,  byrow = TRUE,
dimnames = list(NULL,
c("A", "B", "C")))
dat = data.frame(dat)
dat$hw = c(1:5)
rm(list = ls())
library(VGAM)
dat = matrix(c(39,35,16,
79,72,28,
114,143,38,
67,66,14,
141,131,36), 5,  byrow = TRUE,
dimnames = list(NULL,
c("A", "B", "C")))
dat = data.frame(dat)
dat$hw = c(1:5)
View(dat)
View(dat)
rm(list = ls())
library(VGAM)
dat = matrix(c(39,35,16,
79,72,28,
114,143,38,
67,66,14,
141,131,36), 5,  byrow = TRUE,
dimnames = list(NULL,
c("A", "B", "C")))
dat = data.frame(dat)
dat$hw = c(1:5)
dat$total = apply(dat, 1, sum)
mod = vglm(cbind(A, B, C)~ hw,
family=cumulative(parallel=TRUE), data = dat)
mod
mod = vglm(cbind(A, B, C)~ as.factor(hw),
family=cumulative(parallel=TRUE), data = dat)
mod
?vglm
for (i in dat$hw) {
print(i)
}
dat2 = NULL
for (i in dat$hw) {
for (j in 1:3) {
dat2 = rbind(dat2, c(i, colnames(dat1), dat[i, j]))
}
}
dat2 = NULL
for (i in dat$hw) {
for (j in 1:3) {
dat2 = rbind(dat2, c(i, colnames(dat)[j], dat[i, j]))
}
}
View(dat2)
polr(V2 ~ V1, data=dat2, weight=V3)
library(MASS)
polr(V2 ~ V1, data=dat2, weight=V3)
class(dat2$V1)
class(dat2)
dat2 = as.data.frame(dat2)
View(dat2)
polr(V2 ~ V1, data=dat2, weight=V3)
dat2$V1
class(dat2$V1)
polr(V2 ~ as.numeric(V1), data=dat2, weight=V3)
as.numeric(V1)
polr(V2 ~ as.numeric(dat2$V1), data=dat2, weight=V3)
as.numeric(dat2$V1)
class(dat2$V3)
polr(V2 ~ as.numeric(dat2$V1), data=dat2, weight=as.numeric(dat2$V3))
mod2
#treat hw score as a nominal factor
mod1 = vglm(cbind(A, B, C) ~ as.factor(hw),
family=cumulative(parallel=TRUE), data = dat)
#treat hw score as a linear variable
mod2 = vglm(cbind(A, B, C) ~ hw,
family=cumulative(parallel=TRUE), data = dat)
mod2
rm(list = ls())
library(VGAM)
dat = matrix(c(39,35,16,
79,72,28,
114,143,38,
67,66,14,
141,131,36), 5,  byrow = TRUE,
dimnames = list(NULL,
c("A", "B", "C")))
dat = data.frame(dat)
dat$hw = c(1:5)
dat$total = apply(dat, 1, sum)
#treat hw score as a nominal factor
mod1 = vglm(cbind(A, B, C) ~ as.factor(hw),
family=cumulative(parallel=TRUE), data = dat)
#treat hw score as a linear variable
mod2 = vglm(cbind(A, B, C) ~ hw,
family=cumulative(parallel=TRUE), data = dat)
dat2 = NULL
for (i in dat$hw) {
for (j in 1:3) {
dat2 = rbind(dat2, c(i, colnames(dat)[j], dat[i, j]))
}
}
dat2 = as.data.frame(dat2)
dat2$V1 = as.numeric(dat2$V1)
dat2$V3 = as.numeric(dat2$V3)
polr(V2 ~ V1, data=dat2, weight=V3)
mod2
mod3 = polr(V2 ~ V1, data=dat2, weight=V3)
colnames(dat2) = c("hw", "grade", "weight")
dat2$grade
rm(list = ls())
library(VGAM)
dat = matrix(c(39,35,16,
79,72,28,
114,143,38,
67,66,14,
141,131,36), 5,  byrow = TRUE,
dimnames = list(NULL,
c("A", "B", "C")))
dat = data.frame(dat)
dat$hw = c(1:5)
dat$total = apply(dat, 1, sum)
#treat hw score as a nominal factor
mod1 = vglm(cbind(A, B, C) ~ as.factor(hw),
family=cumulative(parallel=TRUE), data = dat)
#treat hw score as a linear variable
mod2 = vglm(cbind(A, B, C) ~ hw,
family=cumulative(parallel=TRUE), data = dat)
dat2 = NULL
for (i in dat$hw) {
for (j in 1:3) {
dat2 = rbind(dat2, c(i, colnames(dat)[j], dat[i, j]))
}
}
dat2 = as.data.frame(dat2)
colnames(dat2) = c("hw", "grade", "weight")
dat2$hw = as.numeric(dat2$V1)
dat2$weight = as.numeric(dat2$weight)
mod3 = polr(grade ~ hw, data=dat2, weight=weight)
mod3
rm(list = ls())
library(VGAM)
dat = matrix(c(39,35,16,
79,72,28,
114,143,38,
67,66,14,
141,131,36), 5,  byrow = TRUE,
dimnames = list(NULL,
c("A", "B", "C")))
dat = data.frame(dat)
dat$hw = c(1:5)
dat$total = apply(dat, 1, sum)
#treat hw score as a nominal factor
mod1 = vglm(cbind(A, B, C) ~ as.factor(hw),
family=cumulative(parallel=TRUE), data = dat)
#treat hw score as a linear variable
mod2 = vglm(cbind(A, B, C) ~ hw,
family=cumulative(parallel=TRUE), data = dat)
dat2 = NULL
for (i in dat$hw) {
for (j in 1:3) {
dat2 = rbind(dat2, c(i, colnames(dat)[j], dat[i, j]))
}
}
dat2 = as.data.frame(dat2)
colnames(dat2) = c("hw", "grade", "weight")
dat2$hw = as.numeric(dat2$hw)
dat2$weight = as.numeric(dat2$weight)
mod3 = polr(grade ~ hw, data=dat2, weight=weight)
mod3
rm(list = ls())
library(VGAM)
dat = matrix(c(39,35,16,
79,72,28,
114,143,38,
67,66,14,
141,131,36), 5,  byrow = TRUE,
dimnames = list(NULL,
c("A", "B", "C")))
dat = data.frame(dat)
dat$hw = c(1:5)
dat$total = apply(dat, 1, sum)
#treat hw score as a nominal factor
mod1 = vglm(cbind(A, B, C) ~ as.factor(hw),
family=cumulative(parallel=TRUE), data = dat)
#treat hw score as a linear variable
mod2 = vglm(cbind(A, B, C) ~ hw,
family=cumulative(parallel=TRUE), data = dat)
dat2 = NULL
for (i in dat$hw) {
for (j in 1:3) {
dat2 = rbind(dat2, c(i, colnames(dat)[j], dat[i, j]))
}
}
dat2 = as.data.frame(dat2)
colnames(dat2) = c("hw", "grade", "weight")
dat2$weight = as.numeric(dat2$weight)
mod3 = polr(grade ~ hw, data=dat2, weight=weight)
mod4 = polr(grade ~ as.numeric(hw), data=dat2, weight=weight)
mod4
mod1
mod3
dat
dat[1,1,]
dat[1,1]
dat2 = NULL
for (i in dat$hw) {
for (j in 1:3) {
print (i)
print(j)
dat2 = rbind(dat2, c(i, colnames(dat)[j], dat[i, j]))
}
}
dat2 = NULL
for (i in dat$hw) {
for (j in 1:3) {
print (i)
print(j)
dat2 = rbind(dat2, c(i, colnames(dat)[j], dat[i, j]))
}
}
dat2
dat2 = as.data.frame(dat2)
colnames(dat2) = c("hw", "grade", "weight")
dat2$weight = as.numeric(dat2$weight)
mod3 = polr(grade ~ hw, data=dat2, weight=weight)
mod4 = polr(grade ~ as.numeric(hw), data=dat2, weight=weight)
mod1
mod3
View(dat2)
dat2 = NULL
for (i in dat$hw) {
for (j in 1:3) {
print (i)
print(j)
dat2 = rbind(dat2, c(i, colnames(dat)[j], dat[i, j]))
}
}
dat2
dat2 = as.data.frame(dat2)
dat2
colnames(dat2) = c("hw", "grade", "weight")
dat2$weight = as.numeric(dat2$weight)
View(dat2)
dat2
dat2 = NULL
for (i in dat$hw) {
for (j in 1:3) {
print (i)
print(j)
dat2 = rbind(dat2, c(i, colnames(dat)[j], dat[i, j]))
}
}
dat2 = as.data.frame(dat2)
colnames(dat2) = c("hw", "grade", "weight")
View(dat2)
as.numeric(dat2$weight)
dat2$weight
as.numeric(levels(dat2$weight))[dat2$weight]
rm(list = ls())
library(VGAM)
dat = matrix(c(39,35,16,
79,72,28,
114,143,38,
67,66,14,
141,131,36), 5,  byrow = TRUE,
dimnames = list(NULL,
c("A", "B", "C")))
dat = data.frame(dat)
dat$hw = c(1:5)
dat$total = apply(dat, 1, sum)
#treat hw score as a nominal factor
mod1 = vglm(cbind(A, B, C) ~ as.factor(hw),
family=cumulative(parallel=TRUE), data = dat)
#treat hw score as a linear variable
mod2 = vglm(cbind(A, B, C) ~ hw,
family=cumulative(parallel=TRUE), data = dat)
dat2 = NULL
for (i in dat$hw) {
for (j in 1:3) {
print (i)
print(j)
dat2 = rbind(dat2, c(i, colnames(dat)[j], dat[i, j]))
}
}
dat2 = as.data.frame(dat2)
colnames(dat2) = c("hw", "grade", "weight")
dat2$weight = as.numeric(levels(dat2$weight))[dat2$weight]
mod3 = polr(grade ~ hw, data=dat2, weight=weight)
mod4 = polr(grade ~ as.numeric(hw), data=dat2, weight=weight)
mod3
mod1
mod2
mod4
?vglm
?polyr
?polr
?vglm
?polr
polr(grade ~ hw, data=dat2, weight=weight,
method = c("loglog"))
polr(grade ~ hw, data=dat2, weight=weight,
method = c("logistic"))
mod1
mod3
polr(grade ~ hw, data=dat2, weight=weight,
method = c("logistic"))
polr(grade ~ hw, data=dat2, weight=weight,
method = c("loglog"))
mod5 = polr(grade ~ hw, data=dat2, weight=weight,
method = c("loglog"))
mod6 = polr(grade ~ hw, data=dat2, weight=weight,
method = c("cloglog"))
mod5
mod6
?clm
install.packages(ordinal)
install.packages("ordinal")
library(ordinal)
library(ordinal)
clm(grade ~ hw, weights = weight, dat = dat2)
mod3
mod4
clm(grade ~ hw, weights = weight, dat = dat2)
mod3
clm(grade ~ hw, weights = weight, dat = dat2, link="loglog")
clm(grade ~ hw, weights = weight, dat = dat2, link="cloglog")
clm(grade ~ hw, weights = weight, dat = dat2, link="loglog")
mod7 = clm(grade ~ hw, weights = weight, dat = dat2,
link="loglog")
mod7
mod5
mod7 = clm(grade ~ hw, weights = weight, dat = dat2,
link="loglog")
mod8 = clm(grade ~ as.numeric(hw), weights = weight, dat = dat2,
link="loglog")
mod8
mod4
mod6 = polr(grade ~ as.numeric(hw), data=dat2, weight=weight,
method = c("loglog"))
mod6
mod4
mod7$logLik
clm(grade ~ hw, weights = weight, dat = dat2,
link="logistics")$logLik
clm(grade ~ hw, weights = weight, dat = dat2,
link="logit")$logLik
install.packages("rvest")
library(rvest)
lego_movie <- html("http://www.imdb.com/title/tt1490017/")
rm(list = ls())
lego_movie <- html("http://www.imdb.com/title/tt1490017/")
library(rvest)
lego_movie <- html("http://www.imdb.com/title/tt1490017/")
vignette("selectorgadget")
odds <- html("http://www.goldderby.com/odds/user-odds/oscars-nominations-2017/")
html <- html("http://www.goldderby.com/odds/user-odds/oscars-nominations-2017/")
direct <- html_nodes(html, "#7 p")
direct
html_text(direct)
html_nodes(html, "#7 p.predictions-odds predictions-experts gray")
html_nodes(html, "#7 div.predictions-odds predictions-experts gray")
html_nodes(html, "#7 div")
html_nodes(html, "#7 div.predictions-position")
html_nodes(html, "#7 div.predictions-odds predictions-experts gray")
html_nodes(html, "#7 div.predictions-odds")
content = html_nodes(html, "#7 div.predictions-odds")
html_text(content)
html_text(direct)
html_text(content)
class(html_text(direct))
html_nodes(html, "#7 p")
html <- html("http://www.goldderby.com/odds/user-odds/oscars-nominations-2017/")
director_node <- html_nodes(html, "#7 p")
dir_movie = html_text(director_node)
content_node = html_nodes(html, "#7 div.predictions-odds")
pred_odd = html_text(content_node)
n_movies = length(dir_movie)
n_movies = length(dir_movie) / 2
dir = html_text(director_node)[c(TRUE, FALSE)]
movie = html_text(director_node)[c(FALSE, TRUE)]
pred = html_text(content_node)[c(FALSE, TRUE, FALSE)]
odds = html_text(content_node)[c(FALSE, FALSE, TRUE)]
data.frame(dir, movie, pred, odds)
goldderby = data.frame(dir, movie, pred, odds)
View(goldderby)
View(goldderby)
setwd(this.dir)
this.dir <- dirname(parent.frame(2)$ofile)
?dirname
dirname(parent.frame(2)$ofile)
this.dir <- dirname(parent.frame(2)$ofile)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
dirname(parent.frame(2)$ofile)
getwd ()
this.dir <- dirname(parent.frame(2)$ofile, chdir = T)
this.dir <- dirname(parent.frame(2)$ofile, chdir = T)
setwd(this.dir)
html <- html("http://www.goldderby.com/odds/user-odds/oscars-nominations-2017/")
director_node <- html_nodes(html, "#7 p")
dir = html_text(director_node)[c(TRUE, FALSE)]
movie = html_text(director_node)[c(FALSE, TRUE)]
content_node = html_nodes(html, "#7 div.predictions-odds")
pred = html_text(content_node)[c(FALSE, TRUE, FALSE)]
odds = html_text(content_node)[c(FALSE, FALSE, TRUE)]
goldderby = data.frame(dir, movie, pred, odds)
source('~/Google Drive/03Fall16/sta841/project/oscars/code/goldderbyScrap.R')
source('~/Google Drive/03Fall16/sta841/project/oscars/code/goldderbyScrap.R')
setwd(this.dir)
write.table(goldderby, "../data/goldderby.csv")
write.csv(goldderby, "../data/goldderby.csv")
write.csv(goldderby, "../data/goldderby.csv", row.names=FALSE)
